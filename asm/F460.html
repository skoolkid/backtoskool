<!DOCTYPE html>
<html>
<head>
<title>Back to Skool: Routine at F460</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Back to Skool" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="F413.html">F413</a></span></td>
<td class="up">Up: <a href="../maps/all.html#f460">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="F46C.html">F46C</a></span></td>
</tr>
</table>
<div class="description">F460: Make the next command be the start of the command list</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">
<div class="paragraph">
Used by command lists <a href="E400.html">22</a>, <a href="E600.html">24</a>, <a href="E264.html">28</a> and <a href="E975.html">78</a>. Copies the address of the point reached in the current command list (stored in bytes 25 and 26 of the character's buffer) into bytes 27 and 28 (where the start address of the current command list is stored). This means that whenever the command list is restarted, it will restart from this point instead of the actual beginning.
</div>
</div>
<table class="input-1">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">H</td>
<td class="register-desc">204 (MISS TAKE) or 205 (ALBERT)</td>
</tr>
</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="f460"></span>F460</td>
<td class="instruction">LD L,$19</td>
<td class="comment-11" rowspan="5">Copy the address reached in the current command list from bytes 25 and 26 into bytes 27 and 28 (where the command list's start address is usually stored)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="f462"></span>F462</td>
<td class="instruction">LD D,H</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="f463"></span>F463</td>
<td class="instruction">LD E,$1B</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="f465"></span>F465</td>
<td class="instruction">LDI</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="f467"></span>F467</td>
<td class="instruction">LDI</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="f469"></span>F469</td>
<td class="instruction">JP <a href="638C.html">$638C</a></td>
<td class="comment-11" rowspan="1">Move to the next command in the command list</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="F413.html">F413</a></span></td>
<td class="up">Up: <a href="../maps/all.html#f460">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="F46C.html">F46C</a></span></td>
</tr>
</table>
<footer>
<div class="release">The complete Back to Skool RAM disassembly 20151012</div>
<div class="copyright">&#169; 1985 Microsphere Computer Services Ltd (Back to Skool). &#169; 2015 Richard Dymond (this disassembly).</div>
<div class="created">Created using <a href="http://skoolkit.ca/">SkoolKit</a> 5.1.</div>
</footer>
</body>
</html>