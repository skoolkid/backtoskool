<!DOCTYPE html>
<html>
<head>
<title>Back to Skool: Routine at 26958</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Back to Skool" src="../../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="26941.html">26941</a></span></td>
<td class="up">Up: <a href="../maps/all.html#26958">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="27109.html">27109</a></span></td>
</tr>
</table>
<div class="description">26958: Print the speech bubble</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="27144.html">27144</a>. Returns with the carry flag set if the character about to speak is off-screen.
</div>
</div>
<table class="input-1">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">H</td>
<td class="register-desc">Number of the character about to speak (200-204, 208)</td>
</tr>
</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="26958"></span>26958</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,(32767)</td>
<td class="comment-11" rowspan="2"><span class="register">B</span>=leftmost column of the play area on screen</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26961"></span>26961</td>
<td class="bytes-0"></td>
<td class="instruction">LD B,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26962"></span>26962</td>
<td class="bytes-0"></td>
<td class="instruction">LD L,1</td>
<td class="comment-11" rowspan="1">Byte 1 holds the character's x-coordinate</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26964"></span>26964</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="2"><span class="register">A</span>=x-coordinate of the character's head (and therefore of the speech bubble lip when it's printed)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26965"></span>26965</td>
<td class="bytes-0"></td>
<td class="instruction">INC A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26966"></span>26966</td>
<td class="bytes-0"></td>
<td class="instruction">SUB B</td>
<td class="comment-11" rowspan="2">Return with the carry flag set if the character's head is off-screen to the left</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26967"></span>26967</td>
<td class="bytes-0"></td>
<td class="instruction">RET C</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26968"></span>26968</td>
<td class="bytes-0"></td>
<td class="instruction">CP 32</td>
<td class="comment-11" rowspan="3">Return with the carry flag set if the character's head is off-screen to the right</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26970"></span>26970</td>
<td class="bytes-0"></td>
<td class="instruction">CCF</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26971"></span>26971</td>
<td class="bytes-0"></td>
<td class="instruction">RET C</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26972"></span>26972</td>
<td class="bytes-0"></td>
<td class="instruction">LD C,A</td>
<td class="comment-11" rowspan="1">0&lt;=<span class="register">C</span>&lt;=31 (screen x-coordinate of the character's head)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26973"></span>26973</td>
<td class="bytes-0"></td>
<td class="instruction">AND 7</td>
<td class="comment-11" rowspan="4">Point <span class="register">DE</span> at an entry in the 8-byte table at <a href="57720.html">57720</a>, whose contents are (128, 64, 32, 16, 8, 4, 2, 1)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26975"></span>26975</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,120</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26977"></span>26977</td>
<td class="bytes-0"></td>
<td class="instruction">LD E,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26978"></span>26978</td>
<td class="bytes-0"></td>
<td class="instruction">LD D,225</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26980"></span>26980</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,(DE)</td>
<td class="comment-11" rowspan="2">The bit set in <span class="register">A</span> corresponds to the bit that needs to be set in the SRB byte for the lip of the speech bubble; store it in <a href="32761.html">32761</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26981"></span>26981</td>
<td class="bytes-0"></td>
<td class="instruction">LD (32761),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26984"></span>26984</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,C</td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=screen column for lip of speech bubble (0-31)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26985"></span>26985</td>
<td class="bytes-0"></td>
<td class="instruction">RRCA</td>
<td class="comment-11" rowspan="5">Set <span class="register">E</span> to 0, 1, 2 or 3 (quarter of the screen in which the bubble will be printed)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26986"></span>26986</td>
<td class="bytes-0"></td>
<td class="instruction">RRCA</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26987"></span>26987</td>
<td class="bytes-0"></td>
<td class="instruction">RRCA</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26988"></span>26988</td>
<td class="bytes-0"></td>
<td class="instruction">AND 3</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26990"></span>26990</td>
<td class="bytes-0"></td>
<td class="instruction">LD E,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26991"></span>26991</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,H</td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=number of the character about to speak</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26992"></span>26992</td>
<td class="bytes-0"></td>
<td class="instruction">INC L</td>
<td class="comment-11" rowspan="1"><span class="register">L</span>=2, which byte holds the character's y-coordinate</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26993"></span>26993</td>
<td class="bytes-0"></td>
<td class="instruction">CP 208</td>
<td class="comment-11" rowspan="2"><span class="register">A</span>=0 for EINSTEIN, -1 for a teacher</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26995"></span>26995</td>
<td class="bytes-0"></td>
<td class="instruction">SBC A,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26996"></span>26996</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,(HL)</td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=y-coordinate of the lip of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26997"></span>26997</td>
<td class="bytes-0"></td>
<td class="instruction">PUSH HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26998"></span>26998</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,A</td>
<td class="comment-11" rowspan="5">Compute the LSB of the address of the SRB byte corresponding to the location of the speech bubble lip and store it in <a href="32760.html">32760</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="26999"></span>26999</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27000"></span>27000</td>
<td class="bytes-0"></td>
<td class="instruction">LD L,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27001"></span>27001</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27002"></span>27002</td>
<td class="bytes-0"></td>
<td class="instruction">LD (32760),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27005"></span>27005</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,B</td>
<td class="comment-11" rowspan="2">Put the current column of the play area at the far left of the screen into <a href="32762.html">32762</a> for later use by the routine at <a href="26849.html">26849</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27006"></span>27006</td>
<td class="bytes-0"></td>
<td class="instruction">LD (32762),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27009"></span>27009</td>
<td class="bytes-0"></td>
<td class="instruction">LD H,11</td>
<td class="comment-11" rowspan="7"><span class="register">HL</span>=attribute file address for the lip of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27011"></span>27011</td>
<td class="bytes-0"></td>
<td class="instruction">ADD HL,HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27012"></span>27012</td>
<td class="bytes-0"></td>
<td class="instruction">ADD HL,HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27013"></span>27013</td>
<td class="bytes-0"></td>
<td class="instruction">ADD HL,HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27014"></span>27014</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,L</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27015"></span>27015</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,C</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27016"></span>27016</td>
<td class="bytes-0"></td>
<td class="instruction">LD L,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27017"></span>27017</td>
<td class="bytes-0"></td>
<td class="instruction">LD DE,39136</td>
<td class="comment-11" rowspan="1"><a href="39136.html">39136</a>: Lip UDG</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27020"></span>27020</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="26941.html">26941</a></td>
<td class="comment-11" rowspan="1">Print the lip of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27023"></span>27023</td>
<td class="bytes-0"></td>
<td class="instruction">LD BC,65504</td>
<td class="comment-11" rowspan="1"><span class="register">BC</span>=-32</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27026"></span>27026</td>
<td class="bytes-0"></td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-11" rowspan="1">Up a line</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27027"></span>27027</td>
<td class="bytes-0"></td>
<td class="instruction">PUSH HL</td>
<td class="comment-11" rowspan="1">Store this attribute file address</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27028"></span>27028</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,L</td>
<td class="comment-11" rowspan="4"><span class="register">HL</span>=attribute file address for the top left corner of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27029"></span>27029</td>
<td class="bytes-0"></td>
<td class="instruction">AND 248</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27031"></span>27031</td>
<td class="bytes-0"></td>
<td class="instruction">LD L,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27032"></span>27032</td>
<td class="bytes-0"></td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27033"></span>27033</td>
<td class="bytes-0"></td>
<td class="instruction">LD DE,39392</td>
<td class="comment-11" rowspan="1"><a href="39392.html">39392</a>: Top left corner UDG</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27036"></span>27036</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="26941.html">26941</a></td>
<td class="comment-11" rowspan="1">Print the top left corner of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27039"></span>27039</td>
<td class="bytes-0"></td>
<td class="instruction">LD C,6</td>
<td class="comment-11" rowspan="1">There are 6 UDGs in the top middle section of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="27041"></span>27041</td>
<td class="bytes-0"></td>
<td class="instruction">LD DE,39648</td>
<td class="comment-11" rowspan="1"><a href="39648.html">39648</a>: Top-middle section UDG</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27044"></span>27044</td>
<td class="bytes-0"></td>
<td class="instruction">INC L</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27045"></span>27045</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="26941.html">26941</a></td>
<td class="comment-11" rowspan="1">Print a top-middle section UDG</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27048"></span>27048</td>
<td class="bytes-0"></td>
<td class="instruction">DEC C</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27049"></span>27049</td>
<td class="bytes-0"></td>
<td class="instruction">JR NZ,27041</td>
<td class="comment-11" rowspan="1">Jump back until all of the top middle section has been printed</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27051"></span>27051</td>
<td class="bytes-0"></td>
<td class="instruction">LD DE,39904</td>
<td class="comment-11" rowspan="1"><a href="39904.html">39904</a>: Top right corner UDG</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27054"></span>27054</td>
<td class="bytes-0"></td>
<td class="instruction">INC L</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27055"></span>27055</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="26941.html">26941</a></td>
<td class="comment-11" rowspan="1">Print the top right corner of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27058"></span>27058</td>
<td class="bytes-0"></td>
<td class="instruction">LD C,25</td>
<td class="comment-11" rowspan="2"><span class="register">HL</span>=attribute file address for bottom left corner of speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27060"></span>27060</td>
<td class="bytes-0"></td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27061"></span>27061</td>
<td class="bytes-0"></td>
<td class="instruction">LD DE,40160</td>
<td class="comment-11" rowspan="1"><a href="40160.html">40160</a>: Bottom left corner UDG</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27064"></span>27064</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="26941.html">26941</a></td>
<td class="comment-11" rowspan="1">Print the bottom left corner of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27067"></span>27067</td>
<td class="bytes-0"></td>
<td class="instruction">LD C,6</td>
<td class="comment-11" rowspan="1">There are 6 UDGs in the bottom middle section of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="27069"></span>27069</td>
<td class="bytes-0"></td>
<td class="instruction">LD DE,40416</td>
<td class="comment-11" rowspan="1"><a href="40416.html">40416</a>: Bottom-middle section UDG</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27072"></span>27072</td>
<td class="bytes-0"></td>
<td class="instruction">INC L</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27073"></span>27073</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="26941.html">26941</a></td>
<td class="comment-11" rowspan="1">Print a bottom-middle section UDG</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27076"></span>27076</td>
<td class="bytes-0"></td>
<td class="instruction">DEC C</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27077"></span>27077</td>
<td class="bytes-0"></td>
<td class="instruction">JR NZ,27069</td>
<td class="comment-11" rowspan="1">Jump back until all of the bottom middle section has been printed</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27079"></span>27079</td>
<td class="bytes-0"></td>
<td class="instruction">INC L</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27080"></span>27080</td>
<td class="bytes-0"></td>
<td class="instruction">LD DE,40672</td>
<td class="comment-11" rowspan="1"><a href="40672.html">40672</a>: Bottom right corner UDG</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27083"></span>27083</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="26941.html">26941</a></td>
<td class="comment-11" rowspan="1">Print the bottom right corner of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27086"></span>27086</td>
<td class="bytes-0"></td>
<td class="instruction">POP HL</td>
<td class="comment-11" rowspan="1">Retrieve the attribute file address for the spot above the lip of the speech bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27087"></span>27087</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,H</td>
<td class="comment-11" rowspan="7">Set <span class="register">HL</span> to the address of the bottom pixel line of the character square above the lip</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27088"></span>27088</td>
<td class="bytes-0"></td>
<td class="instruction">AND 11</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27090"></span>27090</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27091"></span>27091</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27092"></span>27092</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27093"></span>27093</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,7</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27095"></span>27095</td>
<td class="bytes-0"></td>
<td class="instruction">LD H,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27096"></span>27096</td>
<td class="bytes-0"></td>
<td class="instruction">LD (HL),66</td>
<td class="comment-11" rowspan="1">'Open' the part above the lip (previously closed by a middle section UDG)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27098"></span>27098</td>
<td class="bytes-0"></td>
<td class="instruction">LD HL,23360</td>
<td class="comment-11" rowspan="4">Clear the first 64 bytes at <a href="23296.html">23296</a> (which will be used as a buffer for the speech text graphic data by the routine at <a href="27144.html">27144</a>)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="27101"></span>27101</td>
<td class="bytes-0"></td>
<td class="instruction">DEC L</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27102"></span>27102</td>
<td class="bytes-0"></td>
<td class="instruction">LD (HL),0</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27104"></span>27104</td>
<td class="bytes-0"></td>
<td class="instruction">JR NZ,27101</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27106"></span>27106</td>
<td class="bytes-0"></td>
<td class="instruction">POP HL</td>
<td class="comment-11" rowspan="1">Restore the character number to <span class="register">H</span></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27107"></span>27107</td>
<td class="bytes-0"></td>
<td class="instruction">AND A</td>
<td class="comment-11" rowspan="2">Return with the carry flag reset to signal that the speech bubble has been printed</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="27108"></span>27108</td>
<td class="bytes-0"></td>
<td class="instruction">RET</td>
<td class="comment-01" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="26941.html">26941</a></span></td>
<td class="up">Up: <a href="../maps/all.html#26958">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="27109.html">27109</a></span></td>
</tr>
</table>
<footer>
<div class="release">The complete Back to Skool RAM disassembly 20190617</div>
<div class="copyright">&#169; 1985 Microsphere Computer Services Ltd. &#169; 2019 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 7.2.</div>
<div><a href="../../asm/694E.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>