<!DOCTYPE html>
<html>
<head>
<title>Back to Skool: Routine at 62794</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Back to Skool" src="../../images/logo-dec.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="62770.html">62770</a>
</td>
<td class="up">Up: <a href="../maps/all.html#62794">Map</a></td>
<td class="next">
Next: <a href="62815.html">62815</a>
</td>
</tr>
</table>
<div class="description">62794: Make MR WACKER find the truant ERIC</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
The address of this interruptible subcommand routine is placed into bytes 9 and 10 of MR WACKER's buffer by the routine at <a href="32054.html">32054</a> after ALBERT has spotted ERIC trying to escape and raised the alarm.
</div>
</div>
<table class="input">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">H</td>
<td class="register-desc">200 (MR WACKER)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td class="address-2"><span id="62794"></span>62794</td>
<td class="instruction">LD L,29</td>
<td class="comment-1" rowspan="2">Set bit 7 of byte 29 of MR WACKER's buffer, making him run</td>
</tr>
<tr>
<td class="address-1"><span id="62796"></span>62796</td>
<td class="instruction">SET 7,(HL)</td>
</tr>
<tr>
<td class="address-1"><span id="62798"></span>62798</td>
<td class="instruction">LD L,0</td>
<td class="comment-1" rowspan="1">Point <span class="register">HL</span> at byte 0 of MR WACKER's buffer</td>
</tr>
<tr>
<td class="address-1"><span id="62800"></span>62800</td>
<td class="instruction">BIT 0,(HL)</td>
<td class="comment-1" rowspan="1">Is MR WACKER midstride?</td>
</tr>
<tr>
<td class="address-1"><span id="62802"></span>62802</td>
<td class="instruction">JP NZ,<a href="25944.html#25950">25950</a></td>
<td class="comment-1" rowspan="1">Finish the stride if so</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="62805"></span>
<div class="comments">
<div class="paragraph">
Now check whether a command list restart has been requested. This request will have been made if the lesson in which MR WACKER started chasing ERIC has ended, and the next lesson has just begun (see <a href="63309.html">63309</a>).
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="62805"></span>62805</td>
<td class="instruction">LD L,29</td>
<td class="comment-1" rowspan="2">Has a command list restart been requested (i.e. should MR WACKER end the chase now)?</td>
</tr>
<tr>
<td class="address-1"><span id="62807"></span>62807</td>
<td class="instruction">BIT 0,(HL)</td>
</tr>
<tr>
<td class="address-1"><span id="62809"></span>62809</td>
<td class="instruction">JP NZ,<a href="32379.html#32399">32399</a></td>
<td class="comment-1" rowspan="1">Jump if so</td>
</tr>
<tr>
<td class="address-1"><span id="62812"></span>62812</td>
<td class="instruction">JP <a href="25944.html">25944</a></td>
<td class="comment-1" rowspan="1">Otherwise continue the hunt for ERIC</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="62770.html">62770</a>
</td>
<td class="up">Up: <a href="../maps/all.html#62794">Map</a></td>
<td class="next">
Next: <a href="62815.html">62815</a>
</td>
</tr>
</table>
<footer>
<div class="release">The complete Back to Skool RAM disassembly 20221122</div>
<div class="copyright">&#169; 1985 Microsphere Computer Services Ltd. &#169; 2022 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.8.</div>
<div><a href="../../asm/F54A.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>